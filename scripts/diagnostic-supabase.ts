#!/usr/bin/env npx tsx

/**
 * Diagnostic Supabase - Aide √† la configuration
 */

console.log('üîß Diagnostic Supabase');
console.log('====================\n');

console.log('üìã Instructions pour r√©cup√©rer les bonnes informations :\n');

console.log('1Ô∏è‚É£ Allez sur https://supabase.com/dashboard');
console.log('2Ô∏è‚É£ S√©lectionnez votre projet');
console.log('3Ô∏è‚É£ Allez dans Settings > API');
console.log('4Ô∏è‚É£ Copiez les informations suivantes :\n');

console.log('üîó URL du projet :');
console.log('   Format attendu : https://abcdefghijklmnop.supabase.co');
console.log('   ‚ö†Ô∏è  V√©rifiez que l\'URL commence bien par https://');
console.log('   ‚ö†Ô∏è  V√©rifiez que l\'URL se termine par .supabase.co\n');

console.log('üîë Cl√© publique (anon) :');
console.log('   Format attendu : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...');
console.log('   ‚ö†Ô∏è  Cette cl√© commence toujours par "eyJ"');
console.log('   ‚ö†Ô∏è  Elle est assez longue (plus de 100 caract√®res)\n');

console.log('üîê Cl√© secr√®te (service_role) :');
console.log('   Format attendu : eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...');
console.log('   ‚ö†Ô∏è  Cette cl√© commence aussi par "eyJ"');
console.log('   ‚ö†Ô∏è  Elle est diff√©rente de la cl√© anon\n');

console.log('5Ô∏è‚É£ V√©rifiez que votre projet est bien d√©ploy√© :');
console.log('   - Le projet doit √™tre "Active" dans le dashboard');
console.log('   - Il ne doit pas √™tre en pause ou suspendu\n');

console.log('6Ô∏è‚É£ Testez l\'URL manuellement :');
console.log('   - Ouvrez votre navigateur');
console.log('   - Allez sur l\'URL de votre projet');
console.log('   - Vous devriez voir une page Supabase\n');

console.log('üîç URL actuelle configur√©e :');
console.log('   https://tulhrtkpxbmqzwshaojc.supabase.co\n');

console.log('‚ùì Si l\'URL ne fonctionne pas :');
console.log('   - V√©rifiez l\'orthographe');
console.log('   - Assurez-vous que le projet est actif');
console.log('   - V√©rifiez votre connexion internet');
console.log('   - Essayez depuis un autre navigateur\n');

console.log('üí° Une fois les bonnes informations r√©cup√©r√©es :');
console.log('   - Envoyez-moi l\'URL exacte');
console.log('   - Envoyez-moi la cl√© anon exacte');
console.log('   - Envoyez-moi la cl√© service_role exacte');
console.log('   - Je mettrai √† jour la configuration\n');

console.log('üöÄ Apr√®s la configuration :');
console.log('   - L\'application se connectera √† votre vraie base de donn√©es');
console.log('   - Vous pourrez cr√©er et g√©rer vos utilisateurs');
console.log('   - Toutes les fonctionnalit√©s seront op√©rationnelles\n');
